---
title: "**Political Affiliation and Federal Government Hirings In Brazil**"
author: | 
  | Bernardo Duque
  | Paper for Labor II
  | PUC-Rio
date: "December 09, 2022"
output:
  pdf_document:
    toc: F
    number_sections: T
fontsize: 12pt
fig_caption: yes
header-includes:
 \usepackage{floatrow}
 \floatplacement{figure}{H}
 \floatsetup[figure]{capposition=top}
 \floatsetup[table]{capposition=top}
 \renewcommand{\baselinestretch}{1.5} 
 \usepackage{booktabs}
 \addtolength{\skip\footins}{1pc}
 \usepackage{tabularx}
 \usepackage{makecell}
 \usepackage{setspace}
 \usepackage{hyperref}
 \hypersetup{
   citecolor=blue,
 }
 \usepackage[utf8]{inputenc}
 \usepackage{booktabs}
 \usepackage{longtable}
 \DeclareUnicodeCharacter{2265}{\geq}
bibliography: export.bib
link-citations: true
nocite: '@*'
always_allow_html: true
---
```{r setup, echo = F, include=FALSE}
#\usepackage{float}
knitr::opts_chunk$set(warning = FALSE, message = FALSE,echo = F,fig.align = 'center',
                      out.width="75%", out.height="75%", cache = TRUE)
library(tidyverse)
library(ggplot2)
library(patchwork) 
library(readr)
library(kableExtra)
library(stargazer)
library(scales)

setwd("/Users/bernardoduque/Documents/Puc/Trabalho II/Trabalho Final/Output")
load(file = "num_part_pess.RData")
load(file = "bases_descritivas_filiacao.RData")
load(file = "bases_descritivas_trabalhadores.RData")
load(file = "base_descritivas_fluxos.RData")
load(file = "base_descritiva_rotatividade.RData")
load(file = "base_filiados_servidore_totais.RData")
load(file = "base_filiados_tipo.RData")
load(file = "base_contratados_filiados.RData")
load(file = "base_rotatividade_merg.RData")
load(file = "base_rotatividade_poder.RData")
load(file = "base_rotatividade_cat.RData")
load(file = "base_rotatividade_poder_cat.RData")
```

# Feedbacks Ursula

* Indicar se os papers que existem pro brasil usam cargos comissionados ou com estabilidade. Se so usarem comissionados, justificar o motivo de ver com estabilidade (ela pode nao ocorrer na pratica) -- tambem devo olhar para realocacao dentro do setor publico

* Botar os nomes das bases dos servidores publios no corpo do texto (CGU)

* Ideia de aferir causalidade eh usar um match com pessoas parecidas do partido perdedor

* Dropar terceirizados

* Olhar para promocoes (classe cargo)

* Nao to medindo demissao, e sim desligamento. Uma forma de ver se eh demissao msm seria cruzar com a RAIS e ver quantas pessoas tao pro mercado privado imediatamente depois

* Transition probability matrix?

* Grafico com partido dominante por estado

* Limitacoes:

  * Join por nome (sem cpf)
  
  * Excluindo quem tem mais de um partido da analise
  
  * So olhando para o partido que esta no poder (sem contar coligacao e ate msm vice) (obs 2020 considerando PSL)
  
* Falar sobre filiacao em contexto e incluir a 1a tabela e 1o grafico

# Introduction

Governments play a huge role in the development of a country. However, although government quality has always been emphasized by economists, little evidence has been produced in relation to how its personnel affects its performance [@finan17]. More specifically, little attention has been given to how political affiliation may affect personnel composition, i.e. if political discrimination^[Although the two concepts are not exactly the same, here I will use interchangeably political discrimination and patronage, since in this context patronage is a form of political discrimination.] plays a role in selecting public sector workers.  

Some channels which bureaucracy affects development have already been documented^[ See @besley21 for a review of the ties between bureaucracy and development.]. For instance, the career design matters. @xu19 found that career incentives to reach higher positions can have substantial impacts on the performance of civil servants. In times of crisis, representation is also important. In the context of the 1918 pandemics in India, @xu21 found that towns led by Indian bureaucrats had fewer deaths than the ones where British headed. Similarly, bureaucrats assigned to home states in India tend to be perceived as less effective in their performance because of higher corruption [@xu20].

In relation to patronage in the public sector, evidence is more scarce worldwide, although in Brazil a few papers have been produced.
In relation to worldwide evidence, in the context of the US, @xu22 find that ideologically misalignment between bureaucrats and political leaders leads to "morale costs" and consequently less productivity in the public sector. 

In terms of Brazil, @colo20 document the existence of patronage within the public sector in the municipal level and that it leads to selection of less competent individuals.^[ This is aligned to the finds made by @neto22, that document the existence of political discrimination also in private firms in Brazil. The authors find that this discrimination leads to copartisans workers being paid more and getting promoted more often, even when underqualified, and that this may lead firms to grow less.] Their findings are partially consistent with @brollo17, that found that mayors used their discretion power to employ members of their party, although workers quality actually rose in their study. @barbosa19 also find similar results for the rise in employment of affiliated workers, but the magnitude is less severe. 

However, none of them have provided evidence on the federal level, which arguably is more likely to have a more profound impact on development than the municipal level -- used by all of them --, both because of the size of the federal bureaucracy and because of its more broadly attributions. Hence, in this study I will try to address this lack of evidence and contribute to this literature.

Because of the amount of data I will have to handle within a small period of time, this research project will have a descriptive approach. I will try to provide some information and insights on the following questions. 
Has increased polarization led to political discrimination within the federal public sector? Did it lead to increased dismissals of employees affiliated to the opposing party^[I will in fact consider political coalitions in my analysis instead of party-by-party, although I can also test for heterogeneity in terms of being affiliated to the party and the coalition.] despite their stability? What is the magnitude of job turnover when there is a government change? Are appointed workers or outsourcing firms hired because of their qualification or solely because of their political affiliation or of their owners? Does this lead to inefficiency in the public sector? 

This study aims to contribute to two branches of the literature. First, to the growing literature of the role of politics in the the public sector labor market. Second, more generally to the broad literature of discrimination in the labor market and more specifically to discrimination in the public sector labor market.

The following section will provide some guidelines to describe the context of the study. Next, I will discuss more about the data that will be used, and the subsequent section will briefly discuss the empirical strategy. The last section will conclude presenting a roadmap for this project.

# Institutional Context

\label{Section 2}

## The Public Sector in Brazil

In this section I will first detail the most important aspects of the public sector in Brazil. I will discuss employment stability, reallocation within the public sector, the type of hiring (public examinations x appointment), the three branches of power and federalism in Brazil.

```{r, fig.cap="\\label{fig:publwork}Number of Public Workers"}
ggplot(total,aes(x=year,y=value)) + 
  geom_line(aes(group = num, linetype = num, color = num),
                size = 0.8) +
  scale_linetype_manual(values = c("dashed","twodash","dotted","solid")) +
  geom_point(size = 0.8) +
  #  geom_text(aes(label = num_empreg),vjust = -0.8)+
  labs(y = "Number of Public Workers", x= "Year", linetype = "Type", color = "Type") +
  scale_colour_manual(values=c("#E74B10", "#76b5c5", "#1e81b0", "#21130d")) + 
  scale_y_continuous(labels = comma) +
  theme_bw() + 
  theme(panel.grid.major.x = element_blank(),
        panel.grid.minor.y = element_blank(),
        axis.text = element_text(face = "bold")) + 
  scale_x_continuous(breaks = scales::breaks_pretty(n = 8)) 
```

```{r, fig.cap="\\label{fig:comppubl}Compostion of Public Workers"}
ggplot(t2, aes(x = year, y = porc)) + 
  geom_bar(aes(color = num, fill = num), 
            alpha = 0.5, position = position_dodge(0.8),
           stat = "identity", width = 0.4) +
 # geom_point(aes(y = porc, group = num),
  #           size = 0.5) +
  #geom_text(aes(label = porc),vjust = -0.8, size = 3)+
  scale_fill_manual(values=c("#21130d", "#1e81b0", "#76b5c5")) +
  scale_color_manual(values=c("#21130d", "#1e81b0", "#76b5c5")) +
  geom_text(aes(label = porc),vjust = -0.8, size = 3,
            hjust = ifelse(t2$num == "Career",.5,
                           ifelse(t2$num == "Appointed", 1.2,-.3))) +
  labs(y = "% of Public Workers", x= "Year", color = "Type", fill = "Type") +
  scale_y_continuous(labels = comma) +
  theme_bw() + 
  theme(panel.grid.major.x = element_blank(),
        panel.grid.minor.y = element_blank(),
        axis.text = element_text(face = "bold")) +
  scale_x_continuous(breaks = scales::breaks_pretty(n = 8)) 
```


## The Electoral Cycles and Polarization

Next, I will explain how elections work in Brazil and discuss the increased polarization starting in 2014 until the country's dramatic division in recent elections. 

## Political Affiliation

INCLUIR EXPLICACAO SOBRE FILIACAO

INCLUIR NOTA DE RODAPE FALANDO PRA MERGE AS BASES 

```{r}
maior_8 <- t1 %>%
  filter(num_partidos >= 8) %>%
  #summarise(num_partidos = "\u2265 8", n = sum(n), porc = sum(porc))
  #summarise(num_partidos = "≥ 8", n = sum(n), porc = sum(porc))
  #summarise(num_partidos = "$\\geq$ 8", n = sum(n), porc = sum(porc))
  summarise(num_partidos = ">= 8", n = sum(n), porc = sum(porc))

t1 <- t1 %>%
  filter(num_partidos < 8) %>%
  rbind(maior_8)

t1 %>%
  kable(caption = "Number of People with More Than One Party", booktabs = T,digits = 2,
      col.names = c("Number of Parties","Number of People","%"),
      row.names = F, format.args = list(big.mark = ","),
      align = "c") %>%
  kable_styling(latex_options = c("hold_position"), font_size = 12)
```


```{r, fig.cap="\\label{fig:aff}Number of Affiliates"}
ggplot(base_ano,aes(x=ano,y=num_filiados)) + 
  geom_bar(alpha = 0.5, position = position_dodge(0.8),
           stat = "identity", width = 0.2,
           color = "#1e81b0", fill = "#1e81b0") +
  geom_point(aes(y=num_filiados), size = 0.8) +
  geom_text(aes(label = round(num_filiados/1000000,1)),vjust = -0.8,
            size = 3)+
  xlab("Year") + ylab("Number of Affiliates") +
  scale_y_continuous(labels = comma, limits = c(0, 20000000)) +
  theme_bw() + 
  theme(legend.position = "none",
        panel.grid.major.x = element_blank(),
        panel.grid.minor.y = element_blank(),
        axis.text = element_text(face = "bold")) +
  scale_x_continuous(breaks = scales::breaks_pretty(n = 10))
```


```{r, fig.cap="\\label{fig:polpart}Number of Affiliates per Political Party"}
ggplot(partidos_ano, aes(x=anos, y=num_fil, group = sigla_partido)) +
  geom_line(aes(linetype=sigla_partido, color = sigla_partido),
            size = 0.8) +
  geom_point(size = 0.8) +
  #xlab("Year") + ylab("Number of Affiliates") +
  labs(y = "Number of Affiliates", x= "Year", linetype = "Party", color = "Party") +
  scale_y_continuous(labels = comma) +
  scale_linetype_manual(values = c("longdash", "dotted","dashed", "solid", "dotdash")) +
  scale_colour_manual(values=c("#21130d","#E74B10", "#76b5c5", "#1e81b0","firebrick1")) + 
  theme_bw() + 
  theme(panel.grid.major.x = element_blank(),
        axis.text = element_text(face = "bold")) +
  scale_x_continuous(breaks = scales::breaks_pretty(n = 8)) 
```



# Data

DESCREVER OQ FOI FEITO NO R

I will use a few data sets to construct my final database. First, I will use data from *Tribunal Superior Eleitoral* (TSE -- Brazil's electoral high court) to obtain all political affiliations of every individual in the country for the period of analysis. It contains information on the affiliation date, political party's identifier, name and CPF (national identifier), affiliation's current situation and city identifier. 

Furthermore, I will also use two similar datasets to get information on public sector employees on the federal level of the executive branch. Both have very similar information but one is related to direct public employments whilst the other refers to outsourced workers. 

The first one gathers data from 2013 to 2020, so this is the period of time that I will restrict my analysis to. It contains information on the type of spell -- if the employee is a civil servant^[ Hired by means of public examinations.] or was appointed --, the public agency the employee is assigned to, the public agency the employee is actually working on^[ The worker can be reallocated in some cases as it will be discussed in Section \ref{Section 2}.], working hours per week, the date in which they have joined the public sector and the current public agency, their post, the state in which they are serving, name and CPF. 

The data on outsourced workers contains information on their public agency, firm's name and identifier, necessary schooling years for the post, hours worked per week, salary, the date in which they have began working for the public sector, workers name and CPF.

Finally, if there is enough time, I will try to extend my analysis to the private sector to understand the dynamics of workers that migrate between the private and the public sector, especially those with appointed public jobs. To do this, I will need access to RAIS^[ I would need access to RAIS with name and CPF.], a employer-employee database covering all formal labor supply in Brazil. It includes information on the start and end of contract, the occupation, sector and demographic characteristics of workers.

I would also use the *Cadastro Nacional de Pessoas Jurídicas* (CNPJ) to get information on business owners and see if owners of outsourcing firms affiliated to the leading political party are benefited by the ruling of their party. CNPJ's database contains owners' name and CPF, firms identifier, the number of associated owners and the date each one have become associated.  


# Descriptive Analysis

## Hirings and Dismissals

As I will be working with a lot of different datasets within a limited period of time, this research project will have a descriptive approach, i.e. I will not answer any of the research questions causally. For this reason, it is not yet possible to fully define the statistics I will provide, since ideas might (dis)appear during the exploration of the data. However, henceforth I will discuss some possibilities.

As CPFs are not entirely provided in the data sets^[ The first three and last two digits are omitted.], but I have employees full names, I can merge the databases to get the information I need. I will provide some summary statistics both on political affiliations in Brazil and on the public sector labor market. Next, I will provide some other descriptive statistics by merging all sets of information. For instance, I will be able to indicate how different are affiliations rates between public sector employees and the general population; the number of hirings and dismissals of government workers of all type before and after electoral cycles; and run an heterogeneity analysis in terms of managerial or non-managerial posts. 


```{r, fig.cap="\\label{fig:turnover}Number of Public Workers Affiliated to a Political Party"}
filiados_ano %>% 
  ggplot(aes(x=ano,y=filiado)) + 
  geom_bar(alpha = 0.5, position = position_dodge(0.8),
           stat = "identity", width = 0.2,
           color = "#1e81b0", fill = "#1e81b0") +
  geom_point(aes(y=filiado), size = 0.8) +
  geom_text(aes(label = round(filiado/1000,1)),vjust = -0.8,
            size = 3)+
  xlab("Year") + ylab("Number of Affiliates") +
  scale_y_continuous(labels = comma, limits = c(0, 125000)) +
  theme_bw() + 
  theme(legend.position = "none",
        panel.grid.major.x = element_blank(),
        panel.grid.minor.y = element_blank(),
        axis.text = element_text(face = "bold")) +
  scale_x_continuous(breaks = scales::breaks_pretty(n = 10))
```


```{r, results='asis',message=F}
brasil <- read.csv("/Users/bernardoduque/Documents/Puc/Trabalho II/Trabalho Final/Input/brasil.csv") %>%
  filter(ano >= 2013, ano < 2021) %>%
  mutate(pop = populacao_economicamente_ativa * 1000) %>% 
  dplyr::select(ano,pop) #ajustando pop acima de 18 anos de acordo com PNS 2019
  
filiados_tipo <- filiados_tipo %>%
  left_join(base_ano) %>%
  left_join(brasil) %>%
  mutate(ano = as.character(ano),
         num_filiados = (num_filiados/pop)*100) %>%
  dplyr::select(-pop)

filiados_tipo %>%
  dplyr::select(-ano) %>%
  as.data.frame() %>%
  stargazer(title = "Summary Statistics for Political Affiliation in the Public Sector",
            omit.summary.stat = c("n"),
            covariate.labels = c("\\% Total", "\\% Career", "\\% Appointed", "\\% Other", "\\% All Labor Force"),
            header = F, digits = 2)
```



```{r, fig.cap="\\label{fig:nethir}Net Hirings of Public Workers"}
contratados %>%
  filter(ano != 2013) %>%
  ggplot(aes(x=ano,y=value)) + 
    geom_line(aes(group = variable, linetype = variable, color = variable),
              size = 0.8) +
    scale_linetype_manual(values = c("longdash","twodash","solid"), name = "Type",
                          labels = c("Hirings", "Dismissals", "Net Hirings")) +
    scale_color_manual(values=c("#1e81b0", "#E74B10", "#21130d"),
                       labels = c("Hirings", "Dismissals", "Net Hirings"))+
    geom_point(size = 0.8) +
    #  geom_text(aes(label = num_empreg),vjust = -0.8)+
    labs(y = "Number of Public Workers", x= "Year", color = "Type") +
    scale_y_continuous(labels = comma, breaks = scales::breaks_pretty(n = 5)) +
    theme_bw() + 
    theme(panel.grid.major.x = element_blank(),
          panel.grid.minor.y = element_blank(),
          axis.text = element_text(face = "bold"))   +
    scale_x_continuous(breaks = scales::breaks_pretty(n = 8)) + 
    geom_hline(yintercept=0, linetype="dashed", color = "red") +
    geom_vline(xintercept=c(2014,2016,2018), linetype="solid", color = "grey",
               alpha = 0.5, size = 4) #+
    #geom_vline(xintercept=c(2016,2020), linetype="solid", color = "grey",
    #           alpha = 0.2, size = 4)
```


```{r, fig.cap="\\label{fig:compnet}Composition of Net Hirings per Category"}
contratados_tipo %>%
  filter(ano != 2013,
         variable %in% c("liq_serv", "liq_conf", "liq_outro")) %>%
  ggplot(aes(x=ano,y=value)) + 
    geom_line(aes(group = variable, linetype = variable, color = variable),
              size = 0.8) +
    scale_linetype_manual(values = c("longdash","twodash","solid"), name = "Net Hirings",
                          labels = c("Appointed", "Other", "Career")) +
    scale_colour_manual(values=c("#21130d", "#76b5c5", "#1e81b0"),
                        labels = c("Appointed", "Other", "Career")) +
    geom_point(size = 0.8) +
    #  geom_text(aes(label = num_empreg),vjust = -0.8)+
    labs(y = "Number of Public Workers", x= "Year", color = "Net Hirings") +
    scale_y_continuous(labels = comma, breaks = scales::breaks_pretty(n = 5)) +
    theme_bw() + 
    theme(panel.grid.major.x = element_blank(),
          panel.grid.minor.y = element_blank(),
          axis.text = element_text(face = "bold"))   +
    scale_x_continuous(breaks = scales::breaks_pretty(n = 8)) + 
    geom_hline(yintercept=0, linetype="dashed", color = "red") +
    geom_vline(xintercept=c(2014,2016,2018), linetype="solid", color = "grey",
               alpha = 0.5, size = 4) #+
  #geom_vline(xintercept=c(2016,2020), linetype="solid", color = "grey",
  #           alpha = 0.2, size = 4)
```

FALAR QUE A DECOMPOSICAO ESTA NO APENDICE



```{r, fig.cap="\\label{fig:compnet2}Composition of Net Hirings per Category If Affiliated"}
contratados_filiados %>%
  filter(ano != 2013,
         variable %in% c("liq_serv", "liq_conf", "liq_total")) %>%
  ggplot(aes(x=ano,y=value)) + 
    geom_line(aes(group = variable, linetype = variable, color = variable),
              size = 0.8) +
    scale_linetype_manual(values = c("longdash","twodash","solid"), name = "Net Hirings",
                          labels = c("Appointed", "Total", "Career")) +
    scale_colour_manual(values=c("#21130d", "#76b5c5", "#1e81b0"),
                        labels = c("Appointed", "Total", "Career")) +
    geom_point(size = 0.8) +
    #  geom_text(aes(label = num_empreg),vjust = -0.8)+
    labs(y = "Number of Public Workers", x= "Year", color = "Net Hirings") +
    scale_y_continuous(labels = comma, breaks = scales::breaks_pretty(n = 5)) +
    theme_bw() + 
    theme(panel.grid.major.x = element_blank(),
          panel.grid.minor.y = element_blank(),
          axis.text = element_text(face = "bold"))   +
    scale_x_continuous(breaks = scales::breaks_pretty(n = 8)) + 
    geom_hline(yintercept=0, linetype="dashed", color = "red") +
    geom_vline(xintercept=c(2014,2016,2018), linetype="solid", color = "grey",
               alpha = 0.5, size = 4) #+
  #geom_vline(xintercept=c(2016,2020), linetype="solid", color = "grey",
  #           alpha = 0.2, size = 4)
```


## Turnover

In terms of job turnover, I will measure whether it has changed between elections by a hazard function. It indicates the probability that the employment spell will be terminated next month, conditional on its current duration in months $d$.^[The higher the hazard function, the higher the turnover.] I will use an approach adapted from @pb99, where the hazard function for each year will be calculated by:

\begin{equation}
  h_t(d) = \frac{T_t(d)}{N_t(d)}
\end{equation}

Where $h_t(d)$ is the hazard function given duration $d$ for year $t$; $T_t(d)$ is the number of public sector employments terminated at time $t$ given duration $d$; and $N_t(d)$ is the total number of active employments in the public sector. I will consider $d \in D$, such that $D= \{ 12,24,48 \}$.

If there is enough time, I will also be able to provide some evidence on whether owners of outsourcing firms affiliated to the leading political party are benefited by the ruling of their party.

DISCUTIR PQ ROTATIVIDADE EH IMPORTANTE

```{r, fig.cap="\\label{fig:turnover}Turnover of Public Workers"}
ggplot(rotatividade,aes(x=ano,y=value)) + 
  geom_line(aes(group = variable, linetype = variable, color = variable),
            size = 0.8) +
  scale_linetype_manual(values = c("solid","twodash","longdash"), name = "Duration",
                        labels = c("12 Months", "24 Months", "48 Months")) +
  scale_colour_manual(values=c("#21130d", "#76b5c5", "#1e81b0"),
                        labels = c("12 Months", "24 Months", "48 Months"),
                      name = "Duration") +
  geom_point(size = 0.8) +
  #  geom_text(aes(label = num_empreg),vjust = -0.8)+
  labs(y = "Conditional Probability of Dismissal", x= "Year") +
  scale_y_continuous(labels = comma, breaks = scales::breaks_pretty(n = 4)) +
  theme_bw() + 
  theme(panel.grid.major.x = element_blank(),
        panel.grid.minor.y = element_blank(),
        axis.text = element_text(face = "bold"))   +
  scale_x_continuous(breaks = scales::breaks_pretty(n = 8)) + 
  #geom_hline(yintercept=0, linetype="dashed", color = "red") +
  geom_vline(xintercept=c(2014,2016,2018), linetype="solid", color = "grey",
             alpha = 0.5, size = 4)
```

```{r, fig.cap="\\label{fig:turnover}Turnover of Career Workers"}
ggplot(rotatividade_serv,aes(x=ano,y=value)) + 
  geom_line(aes(group = variable, linetype = variable, color = variable),
            size = 0.8) +
  scale_linetype_manual(values = c("solid","twodash","longdash"), name = "Duration",
                        labels = c("12 Months", "24 Months", "48 Months")) +
  scale_colour_manual(values=c("#21130d", "#76b5c5", "#1e81b0"),
                        labels = c("12 Months", "24 Months", "48 Months"),
                      name = "Duration") +
  geom_point(size = 0.8) +
  #  geom_text(aes(label = num_empreg),vjust = -0.8)+
  labs(y = "Conditional Probability of Dismissal", x= "Year") +
  scale_y_continuous(labels = comma, breaks = scales::breaks_pretty(n = 4)) +
  theme_bw() + 
  theme(panel.grid.major.x = element_blank(),
        panel.grid.minor.y = element_blank(),
        axis.text = element_text(face = "bold"))   +
  scale_x_continuous(breaks = scales::breaks_pretty(n = 8)) + 
  #geom_hline(yintercept=0, linetype="dashed", color = "red") +
  geom_vline(xintercept=c(2014,2016,2018), linetype="solid", color = "grey",
             alpha = 0.5, size = 4)
```

```{r, fig.cap="\\label{fig:turnover}Turnover of Appointed Workers"}
ggplot(rotatividade_conf,aes(x=ano,y=value)) + 
  geom_line(aes(group = variable, linetype = variable, color = variable),
            size = 0.8) +
  scale_linetype_manual(values = c("solid","twodash","longdash"), name = "Duration",
                        labels = c("12 Months", "24 Months", "48 Months")) +
  scale_colour_manual(values=c("#21130d", "#76b5c5", "#1e81b0"),
                        labels = c("12 Months", "24 Months", "48 Months"),
                      name = "Duration") +
  geom_point(size = 0.8) +
  #  geom_text(aes(label = num_empreg),vjust = -0.8)+
  labs(y = "Conditional Probability of Dismissal", x= "Year") +
  scale_y_continuous(labels = comma, breaks = scales::breaks_pretty(n = 4)) +
  theme_bw() + 
  theme(panel.grid.major.x = element_blank(),
        panel.grid.minor.y = element_blank(),
        axis.text = element_text(face = "bold"))   +
  scale_x_continuous(breaks = scales::breaks_pretty(n = 8)) + 
  #geom_hline(yintercept=0, linetype="dashed", color = "red") +
  geom_vline(xintercept=c(2014,2016,2018), linetype="solid", color = "grey",
             alpha = 0.5, size = 4)
```


```{r, fig.cap="\\label{fig:turnovermerg}Turnover of Affiliated Public Workers"}
ggplot(rotatividade_merg,aes(x=ano,y=value)) + 
  geom_line(aes(group = variable, linetype = variable, color = variable),
            size = 0.8) +
  scale_linetype_manual(values = c("solid","twodash","longdash"), name = "Duration",
                        labels = c("12 Months", "24 Months", "48 Months")) +
  scale_colour_manual(values=c("#21130d", "#76b5c5", "#1e81b0"),
                        labels = c("12 Months", "24 Months", "48 Months"),
                      name = "Duration") +
  geom_point(size = 0.8) +
  #  geom_text(aes(label = num_empreg),vjust = -0.8)+
  labs(y = "Conditional Probability of Dismissal", x= "Year") +
  scale_y_continuous(labels = comma, breaks = scales::breaks_pretty(n = 4)) +
  theme_bw() + 
  theme(panel.grid.major.x = element_blank(),
        panel.grid.minor.y = element_blank(),
        axis.text = element_text(face = "bold"))   +
  scale_x_continuous(breaks = scales::breaks_pretty(n = 8)) + 
  #geom_hline(yintercept=0, linetype="dashed", color = "red") +
  geom_vline(xintercept=c(2014,2016,2018), linetype="solid", color = "grey",
             alpha = 0.5, size = 4)
```


```{r, fig.cap="\\label{fig:turnovermerg}Turnover of Public Workers Affiliated to Political Party in Power"}
ggplot(rotatividade_poder,aes(x=ano,y=value)) + 
  geom_line(aes(group = variable, linetype = variable, color = variable),
            size = 0.8) +
  scale_linetype_manual(values = c("solid","twodash","longdash"), name = "Duration",
                        labels = c("12 Months", "24 Months", "48 Months")) +
  scale_colour_manual(values=c("#21130d", "#76b5c5", "#1e81b0"),
                        labels = c("12 Months", "24 Months", "48 Months"),
                      name = "Duration") +
  geom_point(size = 0.8) +
  #  geom_text(aes(label = num_empreg),vjust = -0.8)+
  labs(y = "Conditional Probability of Dismissal", x= "Year") +
  scale_y_continuous(labels = comma, breaks = scales::breaks_pretty(n = 4)) +
  theme_bw() + 
  theme(panel.grid.major.x = element_blank(),
        panel.grid.minor.y = element_blank(),
        axis.text = element_text(face = "bold"))   +
  scale_x_continuous(breaks = scales::breaks_pretty(n = 8)) + 
  #geom_hline(yintercept=0, linetype="dashed", color = "red") +
  geom_vline(xintercept=c(2014,2016,2018), linetype="solid", color = "grey",
             alpha = 0.5, size = 4)
```

FALAR DO APENDICE

## Job Type, Affiliation, Dismissals and Hirings


\begin{center}
\begin{small}
\begin{longtable}{l c c c c c c c}
\caption{Affiliation and Dismissals Correlation}
\label{reg}\\
\toprule
 & \multicolumn{7}{c}{Dismissals} \\
\cmidrule(lr){2-8}
 & (1) & (2) & (3) & (4) & (5) & (6) & (7) \\
\midrule
\endfirsthead
\toprule
 & \multicolumn{7}{c}{Dismissals} \\
\cmidrule(lr){2-8}
 & (1) & (2) & (3) & (4) & (5) & (6) & (7) \\
\midrule
\endhead
\bottomrule
\endfoot
\bottomrule
\multicolumn{8}{l}{\tiny{$^{***}p<0.001$; $^{**}p<0.01$; $^{*}p<0.05$}}\\
\endlastfoot
Power                & $-0.006^{***}$ & $-0.012^{***}$ & $-0.014^{***}$ & $-0.014^{***}$ & $-0.003$       & $0.002$        & $-0.007^{***}$ \\
                     & $(0.001)$      & $(0.001)$      & $(0.001)$      & $(0.001)$      & $(0.002)$      & $(0.002)$      & $(0.002)$      \\
Affiliation          & $-0.003^{***}$ & $0.004^{***}$  & $-0.005^{***}$ & $-0.005^{***}$ & $-0.005^{***}$ & $-0.010^{***}$ & $-0.005^{***}$ \\
                     & $(0.000)$      & $(0.001)$      & $(0.001)$      & $(0.001)$      & $(0.001)$      & $(0.001)$      & $(0.001)$      \\
Lag(Duration)        & $0.000^{***}$  & $0.001^{***}$  & $0.000^{***}$  & $0.000^{***}$  & $0.000^{***}$  & $0.000^{***}$  & $0.000^{***}$  \\
                     & $(0.000)$      & $(0.000)$      & $(0.000)$      & $(0.000)$      & $(0.000)$      & $(0.000)$      & $(0.000)$      \\
Lag(Out of Gov)      &                &                & $-0.255^{***}$ & $-0.379^{***}$ & $-0.379^{***}$ & $-0.377^{***}$ & $-0.379^{***}$ \\
                     &                &                & $(0.000)$      & $(0.000)$      & $(0.000)$      & $(0.000)$      & $(0.000)$      \\
Lag(Career)          &                &                &                & $-0.201^{***}$ & $-0.201^{***}$ & $-0.200^{***}$ & $-0.201^{***}$ \\
                     &                &                &                & $(0.001)$      & $(0.001)$      & $(0.001)$      & $(0.001)$      \\
Lag(Appointed)       &                &                &                & $-0.025^{***}$ & $-0.025^{***}$ & $-0.024^{***}$ & $-0.025^{***}$ \\
                     &                &                &                & $(0.000)$      & $(0.000)$      & $(0.000)$      & $(0.000)$      \\
Lag(Career)*Power    &                &                &                &                & $-0.014^{***}$ & $-0.013^{***}$ & $-0.014^{***}$ \\
                     &                &                &                &                & $(0.002)$      & $(0.002)$      & $(0.002)$      \\
Lag(Appointed)*Power &                &                &                &                & $-0.017^{***}$ & $-0.017^{***}$ & $-0.017^{***}$ \\
                     &                &                &                &                & $(0.003)$      & $(0.003)$      & $(0.003)$      \\
GC                   &                &                &                &                &                &                & $0.003^{***}$  \\
                     &                &                &                &                &                &                & $(0.000)$      \\
GC*Lag(Power)        &                &                &                &                &                &                & $0.009^{***}$  \\
                     &                &                &                &                &                &                & $(0.001)$      \\
\midrule
Individual FE        & No             & Yes            & Yes            & Yes            & Yes            & Yes            & Yes            \\
Time FE              & No             & No             & No             & No             & No             & Yes            & No            \\
R$^2$                & $0.010$        & $0.091$        & $0.188$        & $0.204$        & $0.204$        & $0.204$        & $0.205$        \\
Adj. R$^2$           & $0.010$        & $-0.061$       & $0.053$        & $0.072$        & $0.072$        & $0.071$        & $0.072$        \\
Num. obs.            & $6735092$      & $6735092$      & $6735092$      & $6735092$      & $6735092$      & $6735092$      & $6735092$      \\
\end{longtable}
\end{small}
\end{center}





\begin{center}
\begin{small}
\begin{longtable}{l c c c c c c c}
\caption{Affiliation and Hirings Correlation}
\label{reg}\\
\toprule
 & \multicolumn{7}{c}{Hirings} \\
\cmidrule(lr){2-8}
 & (1) & (2) & (3) & (4) & (5) & (6) & (7) \\
\midrule
\endfirsthead
\toprule
 & \multicolumn{7}{c}{Hirings} \\
\cmidrule(lr){2-8}
 & (1) & (2) & (3) & (4) & (5) & (6) & (7) \\
\midrule
\endhead
\bottomrule
\endfoot
\bottomrule
\multicolumn{8}{l}{\tiny{$^{***}p<0.001$; $^{**}p<0.01$; $^{*}p<0.05$}}\\
\endlastfoot
Power           & $0.004^{***}$  & $0.010^{***}$ & $0.013^{***}$  & $0.005^{***}$  & $0.023^{***}$  & $0.026^{***}$  & $0.017^{***}$  \\
                & $(0.001)$      & $(0.001)$     & $(0.001)$      & $(0.001)$      & $(0.002)$      & $(0.002)$      & $(0.002)$      \\
Affiliation     & $-0.017^{***}$ & $0.006^{***}$ & $0.016^{***}$  & $0.006^{***}$  & $0.006^{***}$  & $0.003^{**}$   & $0.006^{***}$  \\
                & $(0.000)$      & $(0.001)$     & $(0.001)$      & $(0.001)$      & $(0.001)$      & $(0.001)$      & $(0.001)$      \\
Lag(In the Gov) &                &               & $-0.226^{***}$ & $-0.414^{***}$ & $-0.414^{***}$ & $-0.415^{***}$ & $-0.414^{***}$ \\
                &                &               & $(0.000)$      & $(0.000)$      & $(0.000)$      & $(0.000)$      & $(0.000)$      \\
Career          &                &               &                & $0.458^{***}$  & $0.458^{***}$  & $0.460^{***}$  & $0.459^{***}$  \\
                &                &               &                & $(0.000)$      & $(0.000)$      & $(0.000)$      & $(0.000)$      \\
Appointed       &                &               &                & $0.008^{***}$  & $0.007^{***}$  & $0.008^{***}$  & $0.007^{***}$  \\
                &                &               &                & $(0.000)$      & $(0.000)$      & $(0.000)$      & $(0.000)$      \\
Career*Power    &                &               &                &                & $-0.036^{***}$ & $-0.035^{***}$ & $-0.036^{***}$ \\
                &                &               &                &                & $(0.002)$      & $(0.002)$      & $(0.002)$      \\
Appointed*Power &                &               &                &                & $0.048^{***}$  & $0.048^{***}$  & $0.048^{***}$  \\
                &                &               &                &                & $(0.002)$      & $(0.002)$      & $(0.002)$      \\
GC              &                &               &                &                &                &                & $0.007^{***}$  \\
                &                &               &                &                &                &                & $(0.000)$      \\
GC*Lag(Power)   &                &               &                &                &                &                & $-0.001$       \\
                &                &               &                &                &                &                & $(0.001)$      \\
\midrule
Individual FE   & No             & Yes           & Yes            & Yes            & Yes            & Yes            & Yes            \\
Time FE         & No             & No            & No             & No             & No             & Yes            & No             \\
R$^2$           & $0.000$        & $0.000$       & $0.098$        & $0.340$        & $0.340$        & $0.340$        & $0.340$        \\
Adj. R$^2$      & $0.000$        & $-0.143$      & $-0.053$       & $0.230$        & $0.230$        & $0.230$        & $0.230$        \\
Num. obs.       & $7697248$      & $7697248$     & $6735092$      & $6735092$      & $6735092$      & $6735092$      & $6735092$      \\
\end{longtable}
\end{small}
\end{center}

## Limitations and Possible Identification Strategy

AUSENCIA DE INFERENCIA CAUSAL

MERGE DAS BASES FEITO SO COM NOMES

INCLUIR MILITARES E TERCEIRIZADOS NA ANALISE

DADOS DA RAIS PARA SEGUIR AS PESSOAS DPS 

OLHAR PARA REALOCACOES



DISCUTIR MATCH PARA IDENTIFICACAO

# Conclusion

CONCLUSAO

# References {-}

<div id="refs"></div>

\appendix

# Appendix

## Hirings and Dismissals

```{r, fig.cap="\\label{fig:compnet}Career Net Hirings"}
contratados_tipo %>%
  filter(ano != 2013,
         variable %in% c("liq_serv", "contratado_serv", "desligado_serv")) %>%
  ggplot(aes(x=ano,y=value)) + 
    geom_line(aes(group = variable, linetype = variable, color = variable),
              size = 0.8) +
    scale_linetype_manual(values = c("longdash","twodash","solid"), name = "Type",
                          labels = c("Hirings", "Dismissals", "Net Hirings")) +
    scale_color_manual(values=c("#1e81b0", "#E74B10", "#21130d"),
                       labels = c("Hirings", "Dismissals", "Net Hirings"),
                       name = "Type")+
    geom_point(size = 0.8) +
    #  geom_text(aes(label = num_empreg),vjust = -0.8)+
    labs(y = "Number of Career Workers", x= "Year", color = "Net Hirings") +
    scale_y_continuous(labels = comma, breaks = scales::breaks_pretty(n = 5)) +
    theme_bw() + 
    theme(panel.grid.major.x = element_blank(),
          panel.grid.minor.y = element_blank(),
          axis.text = element_text(face = "bold"))   +
    scale_x_continuous(breaks = scales::breaks_pretty(n = 8)) + 
    geom_hline(yintercept=0, linetype="dashed", color = "red") +
    geom_vline(xintercept=c(2014,2016,2018), linetype="solid", color = "grey",
               alpha = 0.5, size = 4) #+
  #geom_vline(xintercept=c(2016,2020), linetype="solid", color = "grey",
  #           alpha = 0.2, size = 4)
```


```{r, fig.cap="\\label{fig:compnet}Appointed Net Hirings"}
contratados_tipo %>%
  filter(ano != 2013,
         variable %in% c("liq_conf", "contratado_conf", "desligado_conf")) %>%
  ggplot(aes(x=ano,y=value)) + 
    geom_line(aes(group = variable, linetype = variable, color = variable),
              size = 0.8) +
    scale_linetype_manual(values = c("longdash","twodash","solid"), name = "Type",
                          labels = c("Hirings", "Dismissals", "Net Hirings")) +
    scale_color_manual(values=c("#1e81b0", "#E74B10", "#21130d"),
                       labels = c("Hirings", "Dismissals", "Net Hirings"), 
                                  name = "Type")+
    geom_point(size = 0.8) +
    #  geom_text(aes(label = num_empreg),vjust = -0.8)+
    labs(y = "Number of Appointed Workers", x= "Year", color = "Net Hirings") +
    scale_y_continuous(labels = comma, breaks = scales::breaks_pretty(n = 5)) +
    theme_bw() + 
    theme(panel.grid.major.x = element_blank(),
          panel.grid.minor.y = element_blank(),
          axis.text = element_text(face = "bold"))   +
    scale_x_continuous(breaks = scales::breaks_pretty(n = 8)) + 
    geom_hline(yintercept=0, linetype="dashed", color = "red") +
    geom_vline(xintercept=c(2014,2016,2018), linetype="solid", color = "grey",
               alpha = 0.5, size = 4) #+
  #geom_vline(xintercept=c(2016,2020), linetype="solid", color = "grey",
  #           alpha = 0.2, size = 4)
```


```{r}
  
filiados_tipo %>%
  kable(caption = "Proportion of Affiliated Public Workers", booktabs = T,digits = 2,
      col.names = c("Year","Total","Career","Appointed", "Other", "All Labor Force"),
      row.names = F, format.args = list(big.mark = ","),
      align = "c") %>%
  kable_styling(latex_options = c("hold_position"), font_size = 12)# %>%
  #row_spec(0, border_top=T) %>%
```



```{r, fig.cap="\\label{fig:careernet2}Career Net Hirings If Affiliated"}
contratados_filiados %>%
  filter(ano != 2013,
         variable %in% c("liq_serv", "contratado_serv", "desligado_serv")) %>%
  ggplot(aes(x=ano,y=value)) + 
    geom_line(aes(group = variable, linetype = variable, color = variable),
              size = 0.8) +
    scale_linetype_manual(values = c("longdash","twodash","solid"), name = "Type",
                          labels = c("Hirings", "Dismissals", "Net Hirings")) +
    scale_color_manual(values=c("#1e81b0", "#E74B10", "#21130d"),
                       labels = c("Hirings", "Dismissals", "Net Hirings"),
                       name = "Type")+
    geom_point(size = 0.8) +
    #  geom_text(aes(label = num_empreg),vjust = -0.8)+
    labs(y = "Number of Career Workers", x= "Year", color = "Net Hirings") +
    scale_y_continuous(labels = comma, breaks = scales::breaks_pretty(n = 5)) +
    theme_bw() + 
    theme(panel.grid.major.x = element_blank(),
          panel.grid.minor.y = element_blank(),
          axis.text = element_text(face = "bold"))   +
    scale_x_continuous(breaks = scales::breaks_pretty(n = 8)) + 
    geom_hline(yintercept=0, linetype="dashed", color = "red") +
    geom_vline(xintercept=c(2014,2016,2018), linetype="solid", color = "grey",
               alpha = 0.5, size = 4) #+
  #geom_vline(xintercept=c(2016,2020), linetype="solid", color = "grey",
  #           alpha = 0.2, size = 4)
```


```{r, fig.cap="\\label{fig:appnet2}Appointed Net Hirings If Affiliated"}
contratados_filiados %>%
  filter(ano != 2013,
         variable %in% c("liq_conf", "contratado_conf", "desligado_conf")) %>%
  ggplot(aes(x=ano,y=value)) + 
    geom_line(aes(group = variable, linetype = variable, color = variable),
              size = 0.8) +
    scale_linetype_manual(values = c("longdash","twodash","solid"), name = "Type",
                          labels = c("Hirings", "Dismissals", "Net Hirings")) +
    scale_color_manual(values=c("#1e81b0", "#E74B10", "#21130d"),
                       labels = c("Hirings", "Dismissals", "Net Hirings"), 
                                  name = "Type")+
    geom_point(size = 0.8) +
    #  geom_text(aes(label = num_empreg),vjust = -0.8)+
    labs(y = "Number of Appointed Workers", x= "Year", color = "Net Hirings") +
    scale_y_continuous(labels = comma, breaks = scales::breaks_pretty(n = 5)) +
    theme_bw() + 
    theme(panel.grid.major.x = element_blank(),
          panel.grid.minor.y = element_blank(),
          axis.text = element_text(face = "bold"))   +
    scale_x_continuous(breaks = scales::breaks_pretty(n = 8)) + 
    geom_hline(yintercept=0, linetype="dashed", color = "red") +
    geom_vline(xintercept=c(2014,2016,2018), linetype="solid", color = "grey",
               alpha = 0.5, size = 4) #+
  #geom_vline(xintercept=c(2016,2020), linetype="solid", color = "grey",
  #           alpha = 0.2, size = 4)
```


## Turnover


```{r, fig.cap="\\label{fig:turnovermerg}Turnover of Career Workers Affiliated to Political Party in Power"}
ggplot(rotatividade_poder_serv,aes(x=ano,y=value)) + 
  geom_line(aes(group = variable, linetype = variable, color = variable),
            size = 0.8) +
  scale_linetype_manual(values = c("solid","twodash","longdash"), name = "Duration",
                        labels = c("12 Months", "24 Months", "48 Months")) +
  scale_colour_manual(values=c("#21130d", "#76b5c5", "#1e81b0"),
                        labels = c("12 Months", "24 Months", "48 Months"),
                      name = "Duration") +
  geom_point(size = 0.8) +
  #  geom_text(aes(label = num_empreg),vjust = -0.8)+
  labs(y = "Conditional Probability of Dismissal", x= "Year") +
  scale_y_continuous(labels = comma, breaks = scales::breaks_pretty(n = 4)) +
  theme_bw() + 
  theme(panel.grid.major.x = element_blank(),
        panel.grid.minor.y = element_blank(),
        axis.text = element_text(face = "bold"))   +
  scale_x_continuous(breaks = scales::breaks_pretty(n = 8)) + 
  #geom_hline(yintercept=0, linetype="dashed", color = "red") +
  geom_vline(xintercept=c(2014,2016,2018), linetype="solid", color = "grey",
             alpha = 0.5, size = 4)
```

```{r, fig.cap="\\label{fig:turnovermerg}Turnover of Appointed Workers Affiliated to Political Party in Power"}
ggplot(rotatividade_poder_conf,aes(x=ano,y=value)) + 
  geom_line(aes(group = variable, linetype = variable, color = variable),
            size = 0.8) +
  scale_linetype_manual(values = c("solid","twodash","longdash"), name = "Duration",
                        labels = c("12 Months", "24 Months", "48 Months")) +
  scale_colour_manual(values=c("#21130d", "#76b5c5", "#1e81b0"),
                        labels = c("12 Months", "24 Months", "48 Months"),
                      name = "Duration") +
  geom_point(size = 0.8) +
  #  geom_text(aes(label = num_empreg),vjust = -0.8)+
  labs(y = "Conditional Probability of Dismissal", x= "Year") +
  scale_y_continuous(labels = comma, breaks = scales::breaks_pretty(n = 4)) +
  theme_bw() + 
  theme(panel.grid.major.x = element_blank(),
        panel.grid.minor.y = element_blank(),
        axis.text = element_text(face = "bold"))   +
  scale_x_continuous(breaks = scales::breaks_pretty(n = 8)) + 
  #geom_hline(yintercept=0, linetype="dashed", color = "red") +
  geom_vline(xintercept=c(2014,2016,2018), linetype="solid", color = "grey",
             alpha = 0.5, size = 4)
```

